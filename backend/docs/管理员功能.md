# 管理员功能

## 概述

管理员功能通过 `AdminExtensionViewSet` 和系统管理模块提供，包括用户管理、内容审核、禁言/封禁等。

## 用户管理

### API 端点

| 方法 | 路径 | 说明 |
|------|------|------|
| POST | `/api/content/admin/users/{id}/mute/` | 禁言用户 |
| POST | `/api/content/admin/users/{id}/ban/` | 封禁用户 |
| POST | `/api/content/admin/users/{id}/unban/` | 解封用户 |
| PUT | `/api/content/admin/users/{id}/role/` | 修改用户角色 |
| GET | `/api/content/admin/users/{id}/status/` | 获取用户状态 |

### 禁言

禁言用户后，用户无法发表评论。支持设置禁言时长和原因。

相关字段：`is_muted`、`muted_until`、`mute_reason`

### 封禁

封禁用户后，用户无法登录。支持设置封禁原因。

相关字段：`is_active`（Django 内置）、`ban_reason`

## 用户数据统计

### API 端点

| 方法 | 路径 | 说明 |
|------|------|------|
| GET | `/api/content/users/uploads/` | 上传历史 |
| GET | `/api/content/users/stats/` | 上传统计 |
| GET | `/api/content/users/overview/` | 数据概览 |
| GET | `/api/content/users/trend/` | 数据趋势 |
| GET | `/api/content/users/stars/` | 收藏列表 |

## 系统管理

通过 `/api/system/` 前缀访问：

- 用户 CRUD：`/api/system/user/`
- 角色管理：`/api/system/role/`
- 部门管理：`/api/system/dept/`
- 菜单管理：`/api/system/menu/`
- 字典管理：`/api/system/dictionary/`
- 系统配置：`/api/system/system_config/`
- 操作日志：`/api/system/operation_log/`
- 登录日志：`/api/system/login_log/`
- 消息中心：`/api/system/message_center/`
- 文件管理：`/api/system/file/`

## 角色权限

| 角色 | key | 可访问功能 |
|------|-----|-----------|
| 超级管理员 | superadmin | 全部功能 |
| 管理员 | admin | 用户管理、内容审核、禁言/封禁 |
| 审核员 | reviewer | 内容审核 |
| 普通用户 | user | 仅前台功能 |

## 相关文件

- 管理员扩展视图：`mainotebook/content/views/admin_extension.py`
- 用户扩展视图：`mainotebook/content/views/user_extension.py`
- 系统管理视图：`mainotebook/system/views/`
- 系统管理路由：`mainotebook/system/urls.py`
